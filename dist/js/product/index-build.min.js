webpackJsonp([1],{0:function(t,e,r){t.exports=r(62)},2:function(t,e,r){var i;!function(n,s){var a=s(n);i=function(){return a}.call(e,r,e,t),!(void 0!==i&&(t.exports=i))}(this,function(t){"use strict";function e(t){if(null===t)return"null";var e=typeof t;if("object"!==e)return e;var r=x.call(t).slice(8,-1).toLowerCase();return"object"!==r?r:t.constructor==Object?r:"unkonw"}function r(t){return"object"===e(t)}function i(t){return"function"===e(t)}function n(t){return"string"===e(t)}function s(){for(var t=arguments[0]||{},e=b.call(arguments,1),r=e.length,i=0;i<r;i++){var n=e[i];for(var s in n)t[s]=n[s]}return t}function a(){var t=b.call(arguments);return s.apply(null,[{}].concat(t))}function o(t){return t}function l(t){return String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\\/g,"&#92;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t){return t.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")}function h(t,e){"undefined"!=typeof console&&console[t]&&console[t](e)}function u(t){function e(){return"template.js error"}var r="template.js error\n\n";for(var i in t)r+="<"+i+">\n"+t[i]+"\n\n";return r+="<message>\n"+t.message+"\n\n",h("error",r),g.error(t),e.toString=function(){return'__code__ = "template.js error"'},e}function f(t,e){function r(t){return t=t.replace(/('|")/g,"\\$1").replace(/\n/g," "),';__code__ += ("'+t+'")\n'}function i(t){var e,r,i,n=/^(?:=|(:.*?)=)(.*)$/;return(r=n.exec(t))?(e=r[2],i=Boolean(r[1])?r[1].slice(1):o?"h":"",';__code__ += __modifierMap__["'+i+'"](typeof ('+e+') !== "undefined" ? ('+e+') : "")\n'):";"+t+"\n"}for(var n="",s=e.sTag,a=e.eTag,o=e.escape,l=t.split(s),c=0,h=l.length;c<h;c++){var u=l[c].split(a);1===u.length?n+=r(u[0]):(n+=i(u[0],!0),u[1]&&(n+=r(u[1])))}return n}function p(t,e){var r=f(t,e),i='\n    var html = (function (__data__, __modifierMap__) {\n        var __str__ = "", __code__ = "";\n        for(var key in __data__) {\n            __str__+=("var " + key + "=__data__[\'" + key + "\'];");\n        }\n        eval(__str__);\n\n',n="\n        ;return __code__;\n    }(__data__, __modifierMap__));\n    return html;\n",s=i+r+n;s=s.replace(/[\r]/g," ");try{var a=new Function("__data__","__modifierMap__",s);return a.toString=function(){return r},a}catch(t){throw t.temp="function anonymous(__data__, __modifierMap__) {"+s+"}",t}}function d(t,e){function r(r){r=a(y,r);try{var n=i(r,m);return n=e.compress?c(n):n}catch(e){return e.name="RenderError",e.tpl=t,e.render=i.toString(),u(e)()}}e=a(g,e);try{var i=p(t,e)}catch(e){return e.name="CompileError",e.tpl=t,e.render=e.temp,delete e.temp,u(e)}return r.toString=function(){return i.toString()},r}function v(t,e){if("string"!=typeof t)return"";var i=d(t);return r(e)?i(e):i}var g={sTag:"<%",eTag:"%>",compress:!1,escape:!0,error:function(t){}},y={},m={"":function(t){return o(t)},h:function(t){return l(t)},u:function(t){return encodeURI(t)}},x={}.toString,b=[].slice;return v.config=function(t){return r(t)&&(g=s(g,t)),a(g)},v.registerFunction=function(t,e){return n(t)?i(e)?y[t]=e:y[t]:a(y)},v.unregisterFunction=function(t){return!!n(t)&&(delete y[t],!0)},v.registerModifier=function(t,e){return n(t)?i(e)?m[t]=e:m[t]:a(m)},v.unregisterModifier=function(t){return!!n(t)&&(delete m[t],!0)},v.__encodeHTML=l,v.__compress=c,v.__handelError=u,v.__compile=d,v.version="0.7.1",v})},3:function(t,e,r){"use strict";var i=r(1),n={getList:function(t,e,r,n,s){i.request({url:i.config.serverHost,data:t,method:"POST",success:e,error:r,beforeSend:n,complete:s})},getDetail:function(t,e,r,n,s){i.request({url:i.config.serverHost,data:t,method:"POST",success:e,error:r,beforeSend:n,complete:s})},getBuyRecord:function(t,e,r,n,s){i.request({url:i.config.serverHost,data:t,method:"POST",success:e,error:r,beforeSend:n,complete:s})}};t.exports=n},32:function(t,e){},44:function(t,e){function r(){var t=$(".item_charts.on"),e={top:$(window).scrollTop(),bottom:$(window).scrollTop()+$(window).height()};t.each(function(){if(e.top<=$(this).offset().top&&e.bottom>=$(this).offset().top&&!$(this).data("bPlay")){$(this).data("bPlay",!0);var t=$(this).find("span").text().replace(/\%/,"");$(this).svgCircle({parent:$(this)[0],w:110,R:47,sW:6,color:["#3080ec","#3080ec","#3080ec"],perent:[100,t],speed:150,delay:400})}})}!function(t){t.fn.svgCircle=function(e){return e=t.extend({parent:null,W:110,R:30,sW:20,color:["#000","#000"],perent:[110,110],speed:0,delay:500},e),this.each(function(){var t=e.parent;if(!t)return!1;var r=e.W,i=Raphael(t,r,r),n=e.R,s={stroke:"#1E89E0"};document.location.hash;i.customAttributes.arc=function(t,i,n){var s,a=360/i*t,o=(90-a)*Math.PI/180,l=r/2+n*Math.cos(o),c=r/2-n*Math.sin(o);e.color;return s=i==t?[["M",r/2,r/2-n],["A",n,n,0,1,1,r/2-.01,r/2-n]]:[["M",r/2,r/2-n],["A",n,n,0,+(a>180),1,l,c]],{path:s}};var a=(i.path().attr({stroke:"#e5e5e5","stroke-width":e.sW}).attr({arc:[100,100,n]}),i.path().attr({stroke:"#ff0000","stroke-width":e.sW}).attr(s).attr({arc:[.01,e.speed,n]}));e.perent[1]>0?setTimeout(function(){a.animate({stroke:e.color[1],arc:[e.perent[1],100,n]},900,">")},e.delay):a.hide()})}}(jQuery),$(function(){var t=$(".item_charts.on");r(),$(window).scroll(function(){t=$(".item_charts.on"),r()})});t.exports=r},46:function(t,e){"use strict";function r(t,e){return(Array(e).join(0)+t).slice(-e)}var i=function(t,e,r){var i=function(t){t=parseInt(t);var e="";if(t>0){var r=n(t%60)+"秒",i=Math.floor(t/60)>0?n(Math.floor(t/60)%60)+"分":"",s=Math.floor(t/3600)>0?Math.floor(t/3600)%24+"时":"",a=Math.floor(t/86400)>0?Math.floor(t/86400)%30+"天":"";e=a+s+i+r}return e},n=function(t){var t=parseInt(t,10);return t>0?(t<=9&&(t="0"+t),String(t)):"00"},s=function(){$(t).each(function(){var t=$(this).attr("data-conutdown");if(t>=0){var n=i(t)+e;0===t?r():($(this).html(n),$(this).attr("data-conutdown",t-1))}})};return s(),window.setInterval(function(){s()},1e3),this};t.exports={time:function(t){var e=parseInt(t/1e3/60/60),i=parseInt(t/1e3/60%60),n=parseInt(t/1e3%60);return e<100&&(e=r(e,2)),e+":"+r(i,2)+":"+r(n,2)},countdown:i}},62:function(t,e,r){"use strict";r(32),r(67);var i=r(1),n=r(44),s=r(46),a=r(3),o=r(2);fjw.webapp.prol={param:{TypeId:0,pageIndex:1,pageSize:20,ShowSellOut:"T",ProductState:"",ProductTypeId:0,orderByType:0,orderBySort:0},init:function(){this.listenEvent(),this.initNav(),this.onLoad(),$(".primary-nav_inner a").removeClass("-current").siblings(".-invest").addClass("-current")},onLoad:function(){var t=this,e=i.Tools.getUrlParam("index")||0,r=0;r=e>0?e:1,t.getList(r)},listenEvent:function(){var t,e,r,i,n=this;document.addEventListener("touchstart",function(r){t=r.targetTouches[0].screenX,e=r.targetTouches[0].screenY}),document.addEventListener("touchmove",function(s){if(r=s.targetTouches[0].screenX,i=s.targetTouches[0].screenY,Math.abs(r-t)-Math.abs(i-e)>0&&Math.abs(i-e)<10){s.stopPropagation();var a=$(".m-menu-item").children("div").index($(".m-menu-item").children(".active")),o=null,l=null;r-t>100&&1===a&&(o=$(".m-menu-item").eq(0),l=o.data("target"),n.switchTab(l),n.getList("current"==l?1:2)),r-t<100&&0===a&&(o=$(".m-menu-item").eq(1),l=o.data("target"),n.switchTab(l),n.getList("current"==l?1:2))}})},initNav:function(){var t=this,e=$(".m-product-menu");e.children(".m-menu-item");e.on("click",".m-menu-item",function(){var e=$(this),r=e.data("target");t.switchTab(r),t.getList("current"==r?1:2)})},switchTab:function(t){var e=$(".m-menu-item").children("."+t);e.is(":visible")&&($(".m-menu-item").children("div").removeClass("active"),e.addClass("active"),$(".tab-tabs").children("div").addClass("f-hide"),$(".tab-tabs").children("."+t).removeClass("f-hide"))},getList:function(t){var e=this,r="",s=$(".m-prolist").eq(t-1).children(".prolist");e.param.TypeId=t,a.getList(JSON.stringify({M:i.config.apiMethod.productList,D:JSON.stringify(e.param)}),function(t){var i=JSON.parse(t),a='<%if(grid.length>0) {%>      <% var idx = 0; %>      <%for(i = 0; i < grid.length; i ++) {%>          <% var data = grid[i]; %>          <%if(data.Status==3&&data.RemainingShares==0&&idx==0){%>              <% idx++ %>              <div class="prol-space mt15 mb10"><span>只展示最近10个已售罄产品</span></div>          <%}%>          <li class="prol-item <%= (data.RemainingShares==0) ? "saleout" : "" %>">              <a href="javascript:;" data-href="./detail.html?id=<%= data.Id %>" title="<%=data.Title%>" class="prol-item-inner">                  <div class="c-333333 f18px pt10 pb10">                      <span class="prol-title"><%=data.Title%></span>                  </div>                  <div class="prol-bd">                      <ul class="prol-cols f-cb">                          <li class="pro-col">                              <div class="proc-bd">                                  <span class="hot"><%=(data.IncomeRate).toFixed(2)%>%</span>                              </div>                              <div class="proc-hd">预期年化收益率</div>                          </li>                          <li class="pro-col">                              <div class="proc-bd"><span class="hot"><%=data.TimeLimit%></span></div>                              <div class="proc-hd">投资期限</div>                          </li>                      </ul>                      <%if(data.CountDown>0){%>                          <ul class="prol-cols time pt10 f-cb">                              <li class="pro-col" style="width:100%;">                                  <div class="proc-bd">                                      <i class="fa fa-clock-o c-338fff"></i>                                      <span class="f12px c-999 timeset" data-conutdown="<%= data.CountDown %>"></span>                                  </div>                              </li>                          </ul>                      <%}%>                      <div class="item_charts <%= data.CountDown <= 0 ? "on" : "" %>">                          <%if(data.CountDown>0){%>                              <span href="javascript:void(0);" class="btn btn-normal time">即将开始</span>                          <%}%>                          <%if((data.Status==2||data.RemainingShares>0)){%>                              <% var progress = (data.TotalShares - data.RemainingShares) / data.TotalShares * 100; if(progress==0){ progress = 0;}if(progress>0&&progress<=1){progress = 1;} progress = Math.floor(progress);%>                              <span class="progress <%= data.CountDown <= 0 ? "" : "f-hide" %>"><%=progress%>%</span>                          <%}else if(data.Status==3||data.RemainingShares==0){%>                              <span class="c-d1d1d1 progress-text">已售罄</span>                          <%}%>                      </div>                  </div>              </a>          </li>      <%}%><%}%>';r=o(a,i),s.html(r),n(),e.initTime()},function(t){},function(){$(".loading-box").removeClass("f-hide")},function(){$(".loading-box").addClass("f-hide")})},initTime:function(){s.countdown($(".timeset")," 后开售",function(){$(".timeset").parent().parent().parent().hide(),$($(".timeset").parent().parent().parent().siblings()[1]).find("span.time").hide(),n()})}},$(function(){fjw.webapp.prol.init()})},67:function(t,e){!function(){function t(){if(t.is(arguments[0],z)){for(var e=arguments[0],r=Jt[m](t,e.splice(0,3+t.is(e[0],G))),i=r.set(),n=0,s=e[M];n<s;n++){var a=e[n]||{};c[f](a.type)&&i[I](r[a.type]().attr(a))}return i}return Jt[m](t,arguments)}function e(){for(var t=[],e=0;e<32;e++)t[e]=(~~(16*A.random()))[P](16);return t[12]=4,t[16]=(3&t[16]|8)[P](16),"r-"+t[B]("")}function r(t,e,r){function i(){var n=Array[u].slice.call(arguments,0),s=n[B]("►"),a=i.cache=i.cache||{},o=i.count=i.count||[];return a[f](s)?r?r(a[s]):a[s]:(o[M]>=1e3&&delete a[o.shift()],o[I](s),a[s]=t[m](e,n),r?r(a[s]):a[s])}return i}function i(e,r,i,n,s){return s?t.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",e+s,r,i-2*s,s,-s,n-2*s,2*s-i,2*s-n):t.format("M{0},{1}l{2},0,0,{3},{4},0z",e,r,i,n,-i)}function n(){return this.x+k+this.y}function s(e){return function(r,i,n,s){var a={back:e};return t.is(n,"function")?s=n:a.rot=n,r&&r.constructor==It&&(r=r.attrs.path),r&&(a.along=r),this.animate(a,i,s)}}function a(t,e,r,i,n,s){function a(t){return((u*t+h)*t+c)*t}function o(t,e){var r=l(t,e);return((d*r+p)*r+f)*r}function l(t,e){var r,i,n,s,o,l;for(n=t,l=0;l<8;l++){if(s=a(n)-t,R(s)<e)return n;if(o=(3*u*n+2*h)*n+c,R(o)<1e-6)break;n-=s/o}if(r=0,i=1,n=t,n<r)return r;if(n>i)return i;for(;r<i;){if(s=a(n),R(s-t)<e)return n;t>s?r=n:i=n,n=(i-r)/2+r}return n}var c=3*e,h=3*(i-e)-c,u=1-c-h,f=3*r,p=3*(n-r)-f,d=1-f-p;return o(t,1/(200*s))}t.version="1.5.2";var o,l=/[, ]+/,c={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},h=/\{(\d+)\}/g,u="prototype",f="hasOwnProperty",p=document,d=window,v={was:Object[u][f].call(d,"Raphael"),is:d.Raphael},g=function(){this.customAttributes={}},y="appendChild",m="apply",x="concat",b="createTouch"in p,w="",k=" ",_=String,T="split",C="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend"[T](k),S={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},B="join",M="length",N=_[u].toLowerCase,A=Math,E=A.max,$=A.min,R=A.abs,L=A.pow,j=A.PI,G="number",q="string",z="array",P="toString",W="fill",H=Object[u][P],I="push",V=/^url\(['"]?([^\)]+?)['"]?\)$/i,D=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,O={NaN:1,Infinity:1,"-Infinity":1},F=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Y=A.round,X="setAttribute",U=parseFloat,J=parseInt,Q=" progid:DXImageTransform.Microsoft",Z=_[u].toUpperCase,K={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},tt={along:"along",blur:G,"clip-rect":"csv",cx:G,cy:G,fill:"colour","fill-opacity":G,"font-size":G,height:G,opacity:G,path:"path",r:G,rotation:"csv",rx:G,ry:G,scale:"csv",stroke:"colour","stroke-opacity":G,"stroke-width":G,translation:"csv",width:G,x:G,y:G},et="replace",rt=/^(from|to|\d+%?)$/,it=/\s*,\s*/,nt={hs:1,rg:1},st=/,?([achlmqrstvxz]),?/gi,at=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/gi,ot=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/gi,lt=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/,ct=function(t,e){return t.key-e.key};if(t.type=d.SVGAngle||p.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==t.type){var ht,ut=p.createElement("div");if(ut.innerHTML='<v:shape adj="1"/>',ht=ut.firstChild,ht.style.behavior="url(#default#VML)",!ht||"object"!=typeof ht.adj)return t.type=null;ut=null}t.svg=!(t.vml="VML"==t.type),g[u]=t[u],o=g[u],t._id=0,t._oid=0,t.fn={},t.is=function(t,e){return e=N.call(e),"finite"==e?!O[f](+t):"null"==e&&null===t||e==typeof t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||H.call(t).slice(8,-1).toLowerCase()==e},t.angle=function(e,r,i,n,s,a){if(null==s){var o=e-i,l=r-n;return o||l?(180*(o<0)+180*A.atan(-l/-o)/j+360)%360:0}return t.angle(e,r,s,a)-t.angle(i,n,s,a)},t.rad=function(t){return t%360*j/180},t.deg=function(t){return 180*t/j%360},t.snapTo=function(e,r,i){if(i=t.is(i,"finite")?i:10,t.is(e,z)){for(var n=e.length;n--;)if(R(e[n]-r)<=i)return e[n]}else{e=+e;var s=r%e;if(s<i)return r-s;if(s>e-i)return r-s+e}return r},t.setWindow=function(t){d=t,p=d.document};var ft=function(e){if(t.vml){var i,n=/^\s+|\s+$/g;try{var s=new ActiveXObject("htmlfile");s.write("<body>"),s.close(),i=s.body}catch(t){i=createPopup().document.body}var a=i.createTextRange();ft=r(function(t){try{i.style.color=_(t)[et](n,w);var e=a.queryCommandValue("ForeColor");return e=(255&e)<<16|65280&e|(16711680&e)>>>16,"#"+("000000"+e[P](16)).slice(-6)}catch(t){return"none"}})}else{var o=p.createElement("i");o.title="Raphaël Colour Picker",o.style.display="none",p.body[y](o),ft=r(function(t){return o.style.color=t,p.defaultView.getComputedStyle(o,w).getPropertyValue("color")})}return ft(e)},pt=function(){return"hsb("+[this.h,this.s,this.b]+")"},dt=function(){return"hsl("+[this.h,this.s,this.l]+")"},vt=function(){return this.hex};t.hsb2rgb=function(e,r,i,n){return t.is(e,"object")&&"h"in e&&"s"in e&&"b"in e&&(i=e.b,r=e.s,e=e.h,n=e.o),t.hsl2rgb(e,r,i/2,n)},t.hsl2rgb=function(e,r,i,n){t.is(e,"object")&&"h"in e&&"s"in e&&"l"in e&&(i=e.l,r=e.s,e=e.h),(e>1||r>1||i>1)&&(e/=360,r/=100,i/=100);var s,a,o,l={},c=["r","g","b"];if(r){s=i<.5?i*(1+r):i+r-i*r,a=2*i-s;for(var h=0;h<3;h++)o=e+1/3*-(h-1),o<0&&o++,o>1&&o--,6*o<1?l[c[h]]=a+6*(s-a)*o:2*o<1?l[c[h]]=s:3*o<2?l[c[h]]=a+(s-a)*(2/3-o)*6:l[c[h]]=a}else l={r:i,g:i,b:i};return l.r*=255,l.g*=255,l.b*=255,l.hex="#"+(16777216|l.b|l.g<<8|l.r<<16).toString(16).slice(1),t.is(n,"finite")&&(l.opacity=n),l.toString=vt,l},t.rgb2hsb=function(e,r,i){if(null==r&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,r=e.g,e=e.r),null==r&&t.is(e,q)){var n=t.getRGB(e);e=n.r,r=n.g,i=n.b}(e>1||r>1||i>1)&&(e/=255,r/=255,i/=255);var s,a,o=E(e,r,i),l=$(e,r,i),c=o;if(l==o)return{h:0,s:0,b:o,toString:pt};var h=o-l;return a=h/o,s=e==o?(r-i)/h:r==o?2+(i-e)/h:4+(e-r)/h,s/=6,s<0&&s++,s>1&&s--,{h:s,s:a,b:c,toString:pt}},t.rgb2hsl=function(e,r,i){if(null==r&&t.is(e,"object")&&"r"in e&&"g"in e&&"b"in e&&(i=e.b,r=e.g,e=e.r),null==r&&t.is(e,q)){var n=t.getRGB(e);e=n.r,r=n.g,i=n.b}(e>1||r>1||i>1)&&(e/=255,r/=255,i/=255);var s,a,o,l=E(e,r,i),c=$(e,r,i),h=(l+c)/2;if(c==l)o={h:0,s:0,l:h};else{var u=l-c;a=h<.5?u/(l+c):u/(2-l-c),s=e==l?(r-i)/u:r==l?2+(i-e)/u:4+(e-r)/u,s/=6,s<0&&s++,s>1&&s--,o={h:s,s:a,l:h}}return o.toString=dt,o},t._path2string=function(){return this.join(",")[et](st,"$1")},t.getRGB=r(function(e){if(!e||(e=_(e)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if("none"==e)return{r:-1,g:-1,b:-1,hex:"none"};!(nt[f](e.toLowerCase().substring(0,2))||"#"==e.charAt())&&(e=ft(e));var r,i,n,s,a,o,l=e.match(D);return l?(l[2]&&(n=J(l[2].substring(5),16),i=J(l[2].substring(3,5),16),r=J(l[2].substring(1,3),16)),l[3]&&(n=J((a=l[3].charAt(3))+a,16),i=J((a=l[3].charAt(2))+a,16),r=J((a=l[3].charAt(1))+a,16)),l[4]&&(o=l[4][T](it),r=U(o[0]),"%"==o[0].slice(-1)&&(r*=2.55),i=U(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),n=U(o[2]),"%"==o[2].slice(-1)&&(n*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(s=U(o[3])),o[3]&&"%"==o[3].slice(-1)&&(s/=100)),l[5]?(o=l[5][T](it),r=U(o[0]),"%"==o[0].slice(-1)&&(r*=2.55),i=U(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),n=U(o[2]),"%"==o[2].slice(-1)&&(n*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(r/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(s=U(o[3])),o[3]&&"%"==o[3].slice(-1)&&(s/=100),t.hsb2rgb(r,i,n,s)):l[6]?(o=l[6][T](it),r=U(o[0]),"%"==o[0].slice(-1)&&(r*=2.55),i=U(o[1]),"%"==o[1].slice(-1)&&(i*=2.55),n=U(o[2]),"%"==o[2].slice(-1)&&(n*=2.55),("deg"==o[0].slice(-3)||"°"==o[0].slice(-1))&&(r/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(s=U(o[3])),o[3]&&"%"==o[3].slice(-1)&&(s/=100),t.hsl2rgb(r,i,n,s)):(l={r:r,g:i,b:n},l.hex="#"+(16777216|n|i<<8|r<<16).toString(16).slice(1),t.is(s,"finite")&&(l.opacity=s),l)):{r:-1,g:-1,b:-1,hex:"none",error:1}},t),t.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},r=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),r.hex},t.getColor.reset=function(){delete this.start},t.parsePathString=r(function(e){if(!e)return null;var r={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},i=[];return t.is(e,z)&&t.is(e[0],z)&&(i=yt(e)),i[M]||_(e)[et](at,function(t,e,n){var s=[],a=N.call(e);for(n[et](ot,function(t,e){e&&s[I](+e)}),"m"==a&&s[M]>2&&(i[I]([e][x](s.splice(0,2))),a="l",e="m"==e?"l":"L");s[M]>=r[a]&&(i[I]([e][x](s.splice(0,r[a]))),r[a]););}),i[P]=t._path2string,i}),t.findDotsAtSegment=function(t,e,r,i,n,s,a,o,l){var c=1-l,h=L(c,3)*t+3*L(c,2)*l*r+3*c*l*l*n+L(l,3)*a,u=L(c,3)*e+3*L(c,2)*l*i+3*c*l*l*s+L(l,3)*o,f=t+2*l*(r-t)+l*l*(n-2*r+t),p=e+2*l*(i-e)+l*l*(s-2*i+e),d=r+2*l*(n-r)+l*l*(a-2*n+r),v=i+2*l*(s-i)+l*l*(o-2*s+i),g=(1-l)*t+l*r,y=(1-l)*e+l*i,m=(1-l)*n+l*a,x=(1-l)*s+l*o,b=90-180*A.atan((f-d)/(p-v))/j;return(f>d||p<v)&&(b+=180),{x:h,y:u,m:{x:f,y:p},n:{x:d,y:v},start:{x:g,y:y},end:{x:m,y:x},alpha:b}};var gt=r(function(t){if(!t)return{x:0,y:0,width:0,height:0};t=Ct(t);for(var e,r=0,i=0,n=[],s=[],a=0,o=t[M];a<o;a++)if(e=t[a],"M"==e[0])r=e[1],i=e[2],n[I](r),s[I](i);else{var l=Tt(r,i,e[1],e[2],e[3],e[4],e[5],e[6]);n=n[x](l.min.x,l.max.x),s=s[x](l.min.y,l.max.y),r=e[5],i=e[6]}var c=$[m](0,n),h=$[m](0,s);return{x:c,y:h,width:E[m](0,n)-c,height:E[m](0,s)-h}}),yt=function(e){var r=[];t.is(e,z)&&t.is(e&&e[0],z)||(e=t.parsePathString(e));for(var i=0,n=e[M];i<n;i++){r[i]=[];for(var s=0,a=e[i][M];s<a;s++)r[i][s]=e[i][s]}return r[P]=t._path2string,r},mt=r(function(e){t.is(e,z)&&t.is(e&&e[0],z)||(e=t.parsePathString(e));var r=[],i=0,n=0,s=0,a=0,o=0;"M"==e[0][0]&&(i=e[0][1],n=e[0][2],s=i,a=n,o++,r[I](["M",i,n]));for(var l=o,c=e[M];l<c;l++){var h=r[l]=[],u=e[l];if(u[0]!=N.call(u[0]))switch(h[0]=N.call(u[0]),h[0]){case"a":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]-i).toFixed(3),h[7]=+(u[7]-n).toFixed(3);break;case"v":h[1]=+(u[1]-n).toFixed(3);break;case"m":s=u[1],a=u[2];default:for(var f=1,p=u[M];f<p;f++)h[f]=+(u[f]-(f%2?i:n)).toFixed(3)}else{h=r[l]=[],"m"==u[0]&&(s=u[1]+i,a=u[2]+n);for(var d=0,v=u[M];d<v;d++)r[l][d]=u[d]}var g=r[l][M];switch(r[l][0]){case"z":i=s,n=a;break;case"h":i+=+r[l][g-1];break;case"v":n+=+r[l][g-1];break;default:i+=+r[l][g-2],n+=+r[l][g-1]}}return r[P]=t._path2string,r},0,yt),xt=r(function(e){t.is(e,z)&&t.is(e&&e[0],z)||(e=t.parsePathString(e));var r=[],i=0,n=0,s=0,a=0,o=0;"M"==e[0][0]&&(i=+e[0][1],n=+e[0][2],s=i,a=n,o++,r[0]=["M",i,n]);for(var l=o,c=e[M];l<c;l++){var h=r[l]=[],u=e[l];if(u[0]!=Z.call(u[0]))switch(h[0]=Z.call(u[0]),h[0]){case"A":h[1]=u[1],h[2]=u[2],h[3]=u[3],h[4]=u[4],h[5]=u[5],h[6]=+(u[6]+i),h[7]=+(u[7]+n);break;case"V":h[1]=+u[1]+n;break;case"H":h[1]=+u[1]+i;break;case"M":s=+u[1]+i,a=+u[2]+n;default:for(var f=1,p=u[M];f<p;f++)h[f]=+u[f]+(f%2?i:n)}else for(var d=0,v=u[M];d<v;d++)r[l][d]=u[d];switch(h[0]){case"Z":i=s,n=a;break;case"H":i=h[1];break;case"V":n=h[1];break;case"M":s=r[l][r[l][M]-2],a=r[l][r[l][M]-1];default:i=r[l][r[l][M]-2],n=r[l][r[l][M]-1]}}return r[P]=t._path2string,r},null,yt),bt=function(t,e,r,i){return[t,e,r,i,r,i]},wt=function(t,e,r,i,n,s){var a=1/3,o=2/3;return[a*t+o*r,a*e+o*i,a*n+o*r,a*s+o*i,n,s]},kt=function(t,e,i,n,s,a,o,l,c,h){var u,f=120*j/180,p=j/180*(+s||0),d=[],v=r(function(t,e,r){var i=t*A.cos(r)-e*A.sin(r),n=t*A.sin(r)+e*A.cos(r);return{x:i,y:n}});if(h)S=h[0],N=h[1],_=h[2],C=h[3];else{u=v(t,e,-p),t=u.x,e=u.y,u=v(l,c,-p),l=u.x,c=u.y;var g=(A.cos(j/180*s),A.sin(j/180*s),(t-l)/2),y=(e-c)/2,m=g*g/(i*i)+y*y/(n*n);m>1&&(m=A.sqrt(m),i*=m,n*=m);var b=i*i,w=n*n,k=(a==o?-1:1)*A.sqrt(R((b*w-b*y*y-w*g*g)/(b*y*y+w*g*g))),_=k*i*y/n+(t+l)/2,C=k*-n*g/i+(e+c)/2,S=A.asin(((e-C)/n).toFixed(9)),N=A.asin(((c-C)/n).toFixed(9));S=t<_?j-S:S,N=l<_?j-N:N,S<0&&(S=2*j+S),N<0&&(N=2*j+N),o&&S>N&&(S-=2*j),!o&&N>S&&(N-=2*j)}var E=N-S;if(R(E)>f){var $=N,L=l,G=c;N=S+f*(o&&N>S?1:-1),l=_+i*A.cos(N),c=C+n*A.sin(N),d=kt(l,c,i,n,s,0,o,L,G,[N,$,_,C])}E=N-S;var q=A.cos(S),z=A.sin(S),P=A.cos(N),W=A.sin(N),H=A.tan(E/4),I=4/3*i*H,V=4/3*n*H,D=[t,e],O=[t+I*z,e-V*q],F=[l+I*W,c-V*P],Y=[l,c];if(O[0]=2*D[0]-O[0],O[1]=2*D[1]-O[1],h)return[O,F,Y][x](d);d=[O,F,Y][x](d)[B]()[T](",");for(var X=[],U=0,J=d[M];U<J;U++)X[U]=U%2?v(d[U-1],d[U],p).y:v(d[U],d[U+1],p).x;return X},_t=function(t,e,r,i,n,s,a,o,l){var c=1-l;return{x:L(c,3)*t+3*L(c,2)*l*r+3*c*l*l*n+L(l,3)*a,y:L(c,3)*e+3*L(c,2)*l*i+3*c*l*l*s+L(l,3)*o}},Tt=r(function(t,e,r,i,n,s,a,o){var l,c=n-2*r+t-(a-2*n+r),h=2*(r-t)-2*(n-r),u=t-r,f=(-h+A.sqrt(h*h-4*c*u))/2/c,p=(-h-A.sqrt(h*h-4*c*u))/2/c,d=[e,o],v=[t,a];return R(f)>"1e12"&&(f=.5),R(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=_t(t,e,r,i,n,s,a,o,f),v[I](l.x),d[I](l.y)),p>0&&p<1&&(l=_t(t,e,r,i,n,s,a,o,p),v[I](l.x),d[I](l.y)),c=s-2*i+e-(o-2*s+i),h=2*(i-e)-2*(s-i),u=e-i,f=(-h+A.sqrt(h*h-4*c*u))/2/c,p=(-h-A.sqrt(h*h-4*c*u))/2/c,R(f)>"1e12"&&(f=.5),R(p)>"1e12"&&(p=.5),f>0&&f<1&&(l=_t(t,e,r,i,n,s,a,o,f),v[I](l.x),d[I](l.y)),p>0&&p<1&&(l=_t(t,e,r,i,n,s,a,o,p),v[I](l.x),d[I](l.y)),{min:{x:$[m](0,v),y:$[m](0,d)},max:{x:E[m](0,v),y:E[m](0,d)}}}),Ct=r(function(t,e){for(var r=xt(t),i=e&&xt(e),n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=(function(t,e){var r,i;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][x](kt[m](0,[e.x,e.y][x](t.slice(1))));break;case"S":r=e.x+(e.x-(e.bx||e.x)),i=e.y+(e.y-(e.by||e.y)),t=["C",r,i][x](t.slice(1));break;case"T":e.qx=e.x+(e.x-(e.qx||e.x)),e.qy=e.y+(e.y-(e.qy||e.y)),t=["C"][x](wt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][x](wt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][x](bt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][x](bt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][x](bt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][x](bt(e.x,e.y,e.X,e.Y))}return t}),o=function(t,e){if(t[e][M]>7){t[e].shift();for(var n=t[e];n[M];)t.splice(e++,0,["C"][x](n.splice(0,6)));t.splice(e,1),h=E(r[M],i&&i[M]||0)}},l=function(t,e,n,s,a){t&&e&&"M"==t[a][0]&&"M"!=e[a][0]&&(e.splice(a,0,["M",s.x,s.y]),n.bx=0,n.by=0,n.x=t[a][1],n.y=t[a][2],h=E(r[M],i&&i[M]||0))},c=0,h=E(r[M],i&&i[M]||0);c<h;c++){r[c]=a(r[c],n),o(r,c),i&&(i[c]=a(i[c],s)),i&&o(i,c),l(r,i,n,s,c),l(i,r,s,n,c);var u=r[c],f=i&&i[c],p=u[M],d=i&&f[M];n.x=u[p-2],n.y=u[p-1],n.bx=U(u[p-4])||n.x,n.by=U(u[p-3])||n.y,s.bx=i&&(U(f[d-4])||s.x),s.by=i&&(U(f[d-3])||s.y),s.x=i&&f[d-2],s.y=i&&f[d-1]}return i?[r,i]:r},null,yt),St=r(function(e){for(var r=[],i=0,n=e[M];i<n;i++){var s={},a=e[i].match(/^([^:]*):?([\d\.]*)/);if(s.color=t.getRGB(a[1]),s.color.error)return null;s.color=s.color.hex,a[2]&&(s.offset=a[2]+"%"),r[I](s)}for(i=1,n=r[M]-1;i<n;i++)if(!r[i].offset){for(var o=U(r[i-1].offset||0),l=0,c=i+1;c<n;c++)if(r[c].offset){l=r[c].offset;break}l||(l=100,c=n),l=U(l);for(var h=(l-o)/(c-i+1);i<c;i++)o+=h,r[i].offset=o+"%"}return r}),Bt=function(e,r,i,n){var s;return t.is(e,q)||t.is(e,"object")?(s=t.is(e,q)?p.getElementById(e):e,s.tagName?null==r?{container:s,width:s.style.pixelWidth||s.offsetWidth,height:s.style.pixelHeight||s.offsetHeight}:{container:s,width:r,height:i}:void 0):{container:1,x:e,y:r,width:i,height:n}},Mt=function(t,e){var r=this;for(var i in e)if(e[f](i)&&!(i in t))switch(typeof e[i]){case"function":!function(e){t[i]=t===r?e:function(){return e[m](r,arguments)}}(e[i]);break;case"object":t[i]=t[i]||{},Mt.call(this,t[i],e[i]);break;default:t[i]=e[i]}},Nt=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)},At=function(t,e){e.top!==t&&(Nt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},Et=function(t,e){e.bottom!==t&&(Nt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},$t=function(t,e,r){Nt(t,r),e==r.top&&(r.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},Rt=function(t,e,r){Nt(t,r),e==r.bottom&&(r.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},Lt=function(t){return function(){throw new Error("Raphaël: you are calling to method “"+t+"” of removed object")}};if(t.pathToRelative=mt,t.svg){o.svgns="http://www.w3.org/2000/svg",o.xlink="http://www.w3.org/1999/xlink",Y=function(t){return+t+.5*(~~t===t)};var jt=function(t,e){if(!e)return t=p.createElementNS(o.svgns,t),t.style.webkitTapHighlightColor="rgba(0,0,0,0)",t;for(var r in e)e[f](r)&&t[X](r,_(e[r]))};t[P]=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var Gt=function(t,e){var r=jt("path");e.canvas&&e.canvas[y](r);var i=new It(r,e);return i.type="path",Pt(i,{fill:"none",stroke:"#000",path:t}),i},qt=function(t,r,i){var n="linear",s=.5,a=.5,o=t.style;if(r=_(r)[et](lt,function(t,e,r){if(n="radial",e&&r){s=U(e),a=U(r);var i=2*(a>.5)-1;L(s-.5,2)+L(a-.5,2)>.25&&(a=A.sqrt(.25-L(s-.5,2))*i+.5)&&.5!=a&&(a=a.toFixed(5)-1e-5*i)}return w}),r=r[T](/\s*\-\s*/),"linear"==n){var l=r.shift();if(l=-U(l),isNaN(l))return null;var c=[0,0,A.cos(l*j/180),A.sin(l*j/180)],h=1/(E(R(c[2]),R(c[3]))||1);c[2]*=h,c[3]*=h,c[2]<0&&(c[0]=-c[2],c[2]=0),c[3]<0&&(c[1]=-c[3],c[3]=0)}var u=St(r);if(!u)return null;var f=t.getAttribute(W);f=f.match(/^url\(#(.*)\)$/),f&&i.defs.removeChild(p.getElementById(f[1]));var d=jt(n+"Gradient");d.id=e(),jt(d,"radial"==n?{fx:s,fy:a}:{x1:c[0],y1:c[1],x2:c[2],y2:c[3]}),i.defs[y](d);for(var v=0,g=u[M];v<g;v++){var m=jt("stop");jt(m,{offset:u[v].offset?u[v].offset:v?"100%":"0%","stop-color":u[v].color||"#fff"}),d[y](m)}return jt(t,{fill:"url(#"+d.id+")",opacity:1,"fill-opacity":1}),o.fill=w,o.opacity=1,o.fillOpacity=1,1},zt=function(e){var r=e.getBBox();jt(e.pattern,{patternTransform:t.format("translate({0},{1})",r.x,r.y)})},Pt=function(r,i){var n={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},s=r.node,a=r.attrs,o=r.rotate(),c=function(t,e){if(e=n[N.call(e)]){for(var r=t.attrs["stroke-width"]||"1",a={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,o=[],l=e[M];l--;)o[l]=e[l]*r+(l%2?1:-1)*a;jt(s,{"stroke-dasharray":o[B](",")})}};i[f]("rotation")&&(o=i.rotation);var h=_(o)[T](l);h.length-1?(h[1]=+h[1],h[2]=+h[2]):h=null,U(o)&&r.rotate(0,!0);for(var u in i)if(i[f](u)){if(!K[f](u))continue;var d=i[u];switch(a[u]=d,u){case"blur":r.blur(d);break;case"rotation":r.rotate(d,!0);break;case"href":case"title":case"target":var v=s.parentNode;if("a"!=N.call(v.tagName)){var g=jt("a");v.insertBefore(g,s),g[y](s),v=g}"target"==u&&"blank"==d?v.setAttributeNS(r.paper.xlink,"show","new"):v.setAttributeNS(r.paper.xlink,u,d);break;case"cursor":s.style.cursor=d;break;case"clip-rect":var m=_(d)[T](l);if(4==m[M]){r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode);var x=jt("clipPath"),b=jt("rect");x.id=e(),jt(b,{x:m[0],y:m[1],width:m[2],height:m[3]}),x[y](b),r.paper.defs[y](x),jt(s,{"clip-path":"url(#"+x.id+")"}),r.clip=b}if(!d){var C=p.getElementById(s.getAttribute("clip-path")[et](/(^url\(#|\)$)/g,w));C&&C.parentNode.removeChild(C),jt(s,{"clip-path":w}),delete r.clip}break;case"path":"path"==r.type&&jt(s,{d:d?a.path=xt(d):"M0,0"});break;case"width":if(s[X](u,d),!a.fx)break;u="x",d=a.x;case"x":a.fx&&(d=-a.x-(a.width||0));case"rx":if("rx"==u&&"rect"==r.type)break;case"cx":h&&("x"==u||"cx"==u)&&(h[1]+=d-a[u]),s[X](u,d),r.pattern&&zt(r);break;case"height":if(s[X](u,d),!a.fy)break;u="y",d=a.y;case"y":a.fy&&(d=-a.y-(a.height||0));case"ry":if("ry"==u&&"rect"==r.type)break;case"cy":h&&("y"==u||"cy"==u)&&(h[2]+=d-a[u]),s[X](u,d),r.pattern&&zt(r);break;case"r":"rect"==r.type?jt(s,{rx:d,ry:d}):s[X](u,d);break;case"src":"image"==r.type&&s.setAttributeNS(r.paper.xlink,"href",d);break;case"stroke-width":s.style.strokeWidth=d,s[X](u,d),a["stroke-dasharray"]&&c(r,a["stroke-dasharray"]);break;case"stroke-dasharray":c(r,d);break;case"translation":var S=_(d)[T](l);S[0]=+S[0]||0,S[1]=+S[1]||0,h&&(h[1]+=S[0],h[2]+=S[1]),Se.call(r,S[0],S[1]);break;case"scale":S=_(d)[T](l),r.scale(+S[0]||1,+S[1]||+S[0]||1,isNaN(U(S[2]))?null:+S[2],isNaN(U(S[3]))?null:+S[3]);break;case W:var A=_(d).match(V);if(A){x=jt("pattern");var E=jt("image");x.id=e(),jt(x,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),jt(E,{x:0,y:0}),E.setAttributeNS(r.paper.xlink,"href",A[1]),x[y](E);var $=p.createElement("img");$.style.cssText="position:absolute;left:-9999em;top-9999em",
$.onload=function(){jt(x,{width:this.offsetWidth,height:this.offsetHeight}),jt(E,{width:this.offsetWidth,height:this.offsetHeight}),p.body.removeChild(this),r.paper.safari()},p.body[y]($),$.src=A[1],r.paper.defs[y](x),s.style.fill="url(#"+x.id+")",jt(s,{fill:"url(#"+x.id+")"}),r.pattern=x,r.pattern&&zt(r);break}var R=t.getRGB(d);if(R.error){if(({circle:1,ellipse:1}[f](r.type)||"r"!=_(d).charAt())&&qt(s,d,r.paper)){a.gradient=d,a.fill="none";break}delete i.gradient,delete a.gradient,!t.is(a.opacity,"undefined")&&t.is(i.opacity,"undefined")&&jt(s,{opacity:a.opacity}),!t.is(a["fill-opacity"],"undefined")&&t.is(i["fill-opacity"],"undefined")&&jt(s,{"fill-opacity":a["fill-opacity"]})}R[f]("opacity")&&jt(s,{"fill-opacity":R.opacity>1?R.opacity/100:R.opacity});case"stroke":R=t.getRGB(d),s[X](u,R.hex),"stroke"==u&&R[f]("opacity")&&jt(s,{"stroke-opacity":R.opacity>1?R.opacity/100:R.opacity});break;case"gradient":(({circle:1,ellipse:1})[f](r.type)||"r"!=_(d).charAt())&&qt(s,d,r.paper);break;case"opacity":a.gradient&&!a[f]("stroke-opacity")&&jt(s,{"stroke-opacity":d>1?d/100:d});case"fill-opacity":if(a.gradient){var L=p.getElementById(s.getAttribute(W)[et](/^url\(#|\)$/g,w));if(L){var j=L.getElementsByTagName("stop");j[j[M]-1][X]("stop-opacity",d)}break}default:"font-size"==u&&(d=J(d,10)+"px");var G=u[et](/(\-.)/g,function(t){return Z.call(t.substring(1))});s.style[G]=d,s[X](u,d)}}Ht(r,i),h?r.rotate(h.join(k)):U(o)&&r.rotate(o,!0)},Wt=1.2,Ht=function(e,r){if("text"==e.type&&(r[f]("text")||r[f]("font")||r[f]("font-size")||r[f]("x")||r[f]("y"))){var i=e.attrs,n=e.node,s=n.firstChild?J(p.defaultView.getComputedStyle(n.firstChild,w).getPropertyValue("font-size"),10):10;if(r[f]("text")){for(i.text=r.text;n.firstChild;)n.removeChild(n.firstChild);for(var a=_(r.text)[T]("\n"),o=0,l=a[M];o<l;o++)if(a[o]){var c=jt("tspan");o&&jt(c,{dy:s*Wt,x:i.x}),c[y](p.createTextNode(a[o])),n[y](c)}}else for(a=n.getElementsByTagName("tspan"),o=0,l=a[M];o<l;o++)o&&jt(a[o],{dy:s*Wt,x:i.x});jt(n,{y:i.y});var h=e.getBBox(),u=i.y-(h.y+h.height/2);u&&t.is(u,"finite")&&jt(n,{y:i.y+u})}},It=function(e,r){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.paper=r,this.attrs=this.attrs||{},this.transformations=[],this._={tx:0,ty:0,rt:{deg:0,cx:0,cy:0},sx:1,sy:1},!r.bottom&&(r.bottom=this),this.prev=r.top,r.top&&(r.top.next=this),r.top=this,this.next=null},Vt=It[u];It[u].rotate=function(e,r,i){if(this.removed)return this;if(null==e)return this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](k):this._.rt.deg;var n=this.getBBox();return e=_(e)[T](l),e[M]-1&&(r=U(e[1]),i=U(e[2])),e=U(e[0]),null!=r&&r!==!1?this._.rt.deg=e:this._.rt.deg+=e,null==i&&(r=null),this._.rt.cx=r,this._.rt.cy=i,r=null==r?n.x+n.width/2:r,i=null==i?n.y+n.height/2:i,this._.rt.deg?(this.transformations[0]=t.format("rotate({0} {1} {2})",this._.rt.deg,r,i),this.clip&&jt(this.clip,{transform:t.format("rotate({0} {1} {2})",-this._.rt.deg,r,i)})):(this.transformations[0]=w,this.clip&&jt(this.clip,{transform:w})),jt(this.node,{transform:this.transformations[B](k)}),this},It[u].hide=function(){return!this.removed&&(this.node.style.display="none"),this},It[u].show=function(){return!this.removed&&(this.node.style.display=""),this},It[u].remove=function(){if(!this.removed){Nt(this,this.paper),this.node.parentNode.removeChild(this.node);for(var t in this)delete this[t];this.removed=!0}},It[u].getBBox=function(){if(this.removed)return this;if("path"==this.type)return gt(this.attrs.path);if("none"==this.node.style.display){this.show();var t=!0}var e={};try{e=this.node.getBBox()}catch(t){}finally{e=e||{}}if("text"==this.type){e={x:e.x,y:1/0,width:0,height:0};for(var r=0,i=this.node.getNumberOfChars();r<i;r++){var n=this.node.getExtentOfChar(r);n.y<e.y&&(e.y=n.y),n.y+n.height-e.y>e.height&&(e.height=n.y+n.height-e.y),n.x+n.width-e.x>e.width&&(e.width=n.x+n.width-e.x)}}return t&&this.hide(),e},It[u].attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var n in this.attrs)this.attrs[f](n)&&(i[n]=this.attrs[n]);return this._.rt.deg&&(i.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(i.scale=this.scale()),i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i}if(null==r&&t.is(e,q))return"translation"==e?Se.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==W&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(null==r&&t.is(e,z)){for(var s={},a=0,o=e.length;a<o;a++)s[e[a]]=this.attr(e[a]);return s}if(null!=r){var l={};l[e]=r}else null!=e&&t.is(e,"object")&&(l=e);for(var c in this.paper.customAttributes)if(this.paper.customAttributes[f](c)&&l[f](c)&&t.is(this.paper.customAttributes[c],"function")){var h=this.paper.customAttributes[c].apply(this,[][x](l[c]));this.attrs[c]=l[c];for(var u in h)h[f](u)&&(l[u]=h[u])}return Pt(this,l),this},It[u].toFront=function(){if(this.removed)return this;this.node.parentNode[y](this.node);var t=this.paper;return t.top!=this&&At(this,t),this},It[u].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),Et(this,this.paper);this.paper}return this},It[u].insertAfter=function(t){if(this.removed)return this;var e=t.node||t[t.length-1].node;return e.nextSibling?e.parentNode.insertBefore(this.node,e.nextSibling):e.parentNode[y](this.node),$t(this,t,this.paper),this},It[u].insertBefore=function(t){if(this.removed)return this;var e=t.node||t[0].node;return e.parentNode.insertBefore(this.node,e),Rt(this,t,this.paper),this},It[u].blur=function(t){var r=this;if(0!==+t){var i=jt("filter"),n=jt("feGaussianBlur");r.attrs.blur=t,i.id=e(),jt(n,{stdDeviation:+t||1.5}),i.appendChild(n),r.paper.defs.appendChild(i),r._blur=i,jt(r.node,{filter:"url(#"+i.id+")"})}else r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")};var Dt=function(t,e,r,i){var n=jt("circle");t.canvas&&t.canvas[y](n);var s=new It(n,t);return s.attrs={cx:e,cy:r,r:i,fill:"none",stroke:"#000"},s.type="circle",jt(n,s.attrs),s},Ot=function(t,e,r,i,n,s){var a=jt("rect");t.canvas&&t.canvas[y](a);var o=new It(a,t);return o.attrs={x:e,y:r,width:i,height:n,r:s||0,rx:s||0,ry:s||0,fill:"none",stroke:"#000"},o.type="rect",jt(a,o.attrs),o},Ft=function(t,e,r,i,n){var s=jt("ellipse");t.canvas&&t.canvas[y](s);var a=new It(s,t);return a.attrs={cx:e,cy:r,rx:i,ry:n,fill:"none",stroke:"#000"},a.type="ellipse",jt(s,a.attrs),a},Yt=function(t,e,r,i,n,s){var a=jt("image");jt(a,{x:r,y:i,width:n,height:s,preserveAspectRatio:"none"}),a.setAttributeNS(t.xlink,"href",e),t.canvas&&t.canvas[y](a);var o=new It(a,t);return o.attrs={x:r,y:i,width:n,height:s,src:e},o.type="image",o},Xt=function(t,e,r,i){var n=jt("text");jt(n,{x:e,y:r,"text-anchor":"middle"}),t.canvas&&t.canvas[y](n);var s=new It(n,t);return s.attrs={x:e,y:r,"text-anchor":"middle",text:i,font:K.font,stroke:"none",fill:"#000"},s.type="text",Pt(s,s.attrs),s},Ut=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas[X]("width",this.width),this.canvas[X]("height",this.height),this},Jt=function(){var e=Bt[m](0,arguments),r=e&&e.container,i=e.x,n=e.y,s=e.width,a=e.height;if(!r)throw new Error("SVG container not found.");var o=jt("svg");return i=i||0,n=n||0,s=s||512,a=a||342,jt(o,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:s,height:a}),1==r?(o.style.cssText="position:absolute;left:"+i+"px;top:"+n+"px",p.body[y](o)):r.firstChild?r.insertBefore(o,r.firstChild):r[y](o),r=new g,r.width=s,r.height=a,r.canvas=o,Mt.call(r,r,t.fn),r.clear(),r};o.clear=function(){for(var t=this.canvas;t.firstChild;)t.removeChild(t.firstChild);this.bottom=this.top=null,(this.desc=jt("desc"))[y](p.createTextNode("Created with Raphaël")),t[y](this.desc),t[y](this.defs=jt("defs"))},o.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Lt(t)}}if(t.vml){var Qt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Zt=/([clmz]),?([^clmz]*)/gi,Kt=/ progid:\S+Blur\([^\)]+\)/g,te=/-?[^,\s-]+/g,ee=1e3+k+1e3,re=10,ie={path:1,rect:1},ne=function(t){var e=/[ahqstv]/gi,r=xt;if(_(t).match(e)&&(r=Ct),e=/[clmz]/g,r==xt&&!_(t).match(e)){var i=_(t)[et](Zt,function(t,e,r){var i=[],n="m"==N.call(e),s=Qt[e];return r[et](te,function(t){n&&2==i[M]&&(s+=i+Qt["m"==e?"l":"L"],i=[]),i[I](Y(t*re))}),s+i});return i}var n,s,a=r(t);i=[];for(var o=0,l=a[M];o<l;o++){n=a[o],s=N.call(a[o][0]),"z"==s&&(s="x");for(var c=1,h=n[M];c<h;c++)s+=Y(n[c]*re)+(c!=h-1?",":w);i[I](s)}return i[B](k)};t[P]=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version},Gt=function(t,e){var r=se("group");r.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",r.coordsize=e.coordsize,r.coordorigin=e.coordorigin;var i=se("shape"),n=i.style;n.width=e.width+"px",n.height=e.height+"px",i.coordsize=ee,i.coordorigin=e.coordorigin,r[y](i);var s=new It(i,r,e),a={fill:"none",stroke:"#000"};return t&&(a.path=t),s.type="path",s.path=[],s.Path=w,Pt(s,a),e.canvas[y](r),s},Pt=function(e,r){e.attrs=e.attrs||{};var n,s=e.node,a=e.attrs,o=s.style,c=(r.x!=a.x||r.y!=a.y||r.width!=a.width||r.height!=a.height||r.r!=a.r)&&"rect"==e.type,h=e;for(var u in r)r[f](u)&&(a[u]=r[u]);if(c&&(a.path=i(a.x,a.y,a.width,a.height,a.r),e.X=a.x,e.Y=a.y,e.W=a.width,e.H=a.height),r.href&&(s.href=r.href),r.title&&(s.title=r.title),r.target&&(s.target=r.target),r.cursor&&(o.cursor=r.cursor),"blur"in r&&e.blur(r.blur),(r.path&&"path"==e.type||c)&&(s.path=ne(a.path)),null!=r.rotation&&e.rotate(r.rotation,!0),r.translation&&(n=_(r.translation)[T](l),Se.call(e,n[0],n[1]),null!=e._.rt.cx&&(e._.rt.cx+=+n[0],e._.rt.cy+=+n[1],e.setBox(e.attrs,n[0],n[1]))),r.scale&&(n=_(r.scale)[T](l),e.scale(+n[0]||1,+n[1]||+n[0]||1,+n[2]||null,+n[3]||null)),"clip-rect"in r){var d=_(r["clip-rect"])[T](l);if(4==d[M]){d[2]=+d[2]+ +d[0],d[3]=+d[3]+ +d[1];var v=s.clipRect||p.createElement("div"),g=v.style,m=s.parentNode;g.clip=t.format("rect({1}px {2}px {3}px {0}px)",d),s.clipRect||(g.position="absolute",g.top=0,g.left=0,g.width=e.paper.width+"px",g.height=e.paper.height+"px",m.parentNode.insertBefore(v,m),v[y](m),s.clipRect=v)}r["clip-rect"]||s.clipRect&&(s.clipRect.style.clip=w)}if("image"==e.type&&r.src&&(s.src=r.src),"image"==e.type&&r.opacity&&(s.filterOpacity=Q+".Alpha(opacity="+100*r.opacity+")",o.filter=(s.filterMatrix||w)+(s.filterOpacity||w)),r.font&&(o.font=r.font),r["font-family"]&&(o.fontFamily='"'+r["font-family"][T](",")[0][et](/^['"]+|['"]+$/g,w)+'"'),r["font-size"]&&(o.fontSize=r["font-size"]),r["font-weight"]&&(o.fontWeight=r["font-weight"]),r["font-style"]&&(o.fontStyle=r["font-style"]),null!=r.opacity||null!=r["stroke-width"]||null!=r.fill||null!=r.stroke||null!=r["stroke-width"]||null!=r["stroke-opacity"]||null!=r["fill-opacity"]||null!=r["stroke-dasharray"]||null!=r["stroke-miterlimit"]||null!=r["stroke-linejoin"]||null!=r["stroke-linecap"]){s=e.shape||s;var x=s.getElementsByTagName(W)&&s.getElementsByTagName(W)[0],b=!1;if(!x&&(b=x=se(W)),"fill-opacity"in r||"opacity"in r){var k=((+a["fill-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+t.getRGB(r.fill).o+1||2)-1);k=$(E(k,0),1),x.opacity=k}if(r.fill&&(x.on=!0),null!=x.on&&"none"!=r.fill||(x.on=!1),x.on&&r.fill){var C=r.fill.match(V);C?(x.src=C[1],x.type="tile"):(x.color=t.getRGB(r.fill).hex,x.src=w,x.type="solid",t.getRGB(r.fill).error&&(h.type in{circle:1,ellipse:1}||"r"!=_(r.fill).charAt())&&qt(h,r.fill)&&(a.fill="none",a.gradient=r.fill))}b&&s[y](x);var S=s.getElementsByTagName("stroke")&&s.getElementsByTagName("stroke")[0],B=!1;!S&&(B=S=se("stroke")),(r.stroke&&"none"!=r.stroke||r["stroke-width"]||null!=r["stroke-opacity"]||r["stroke-dasharray"]||r["stroke-miterlimit"]||r["stroke-linejoin"]||r["stroke-linecap"])&&(S.on=!0),("none"==r.stroke||null==S.on||0==r.stroke||0==r["stroke-width"])&&(S.on=!1);var N=t.getRGB(r.stroke);S.on&&r.stroke&&(S.color=N.hex),k=((+a["stroke-opacity"]+1||2)-1)*((+a.opacity+1||2)-1)*((+N.o+1||2)-1);var A=.75*(U(r["stroke-width"])||1);if(k=$(E(k,0),1),null==r["stroke-width"]&&(A=a["stroke-width"]),r["stroke-width"]&&(S.weight=A),A&&A<1&&(k*=A)&&(S.weight=1),S.opacity=k,r["stroke-linejoin"]&&(S.joinstyle=r["stroke-linejoin"]||"miter"),S.miterlimit=r["stroke-miterlimit"]||8,r["stroke-linecap"]&&(S.endcap="butt"==r["stroke-linecap"]?"flat":"square"==r["stroke-linecap"]?"square":"round"),r["stroke-dasharray"]){var R={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};S.dashstyle=R[f](r["stroke-dasharray"])?R[r["stroke-dasharray"]]:w}B&&s[y](S)}if("text"==h.type)switch(o=h.paper.span.style,a.font&&(o.font=a.font),a["font-family"]&&(o.fontFamily=a["font-family"]),a["font-size"]&&(o.fontSize=a["font-size"]),a["font-weight"]&&(o.fontWeight=a["font-weight"]),a["font-style"]&&(o.fontStyle=a["font-style"]),h.node.string&&(h.paper.span.innerHTML=_(h.node.string)[et](/</g,"&#60;")[et](/&/g,"&#38;")[et](/\n/g,"<br>")),h.W=a.w=h.paper.span.offsetWidth,h.H=a.h=h.paper.span.offsetHeight,h.X=a.x,h.Y=a.y+Y(h.H/2),a["text-anchor"]){case"start":h.node.style["v-text-align"]="left",h.bbx=Y(h.W/2);break;case"end":h.node.style["v-text-align"]="right",h.bbx=-Y(h.W/2);break;default:h.node.style["v-text-align"]="center"}},qt=function(t,e){t.attrs=t.attrs||{};var r,i=(t.attrs,"linear"),n=".5 .5";if(t.attrs.gradient=e,e=_(e)[et](lt,function(t,e,r){return i="radial",e&&r&&(e=U(e),r=U(r),L(e-.5,2)+L(r-.5,2)>.25&&(r=A.sqrt(.25-L(e-.5,2))*(2*(r>.5)-1)+.5),n=e+k+r),w}),e=e[T](/\s*\-\s*/),"linear"==i){var s=e.shift();if(s=-U(s),isNaN(s))return null}var a=St(e);if(!a)return null;if(t=t.shape||t.node,r=t.getElementsByTagName(W)[0]||se(W),!r.parentNode&&t.appendChild(r),a[M]){r.on=!0,r.method="none",r.color=a[0].color,r.color2=a[a[M]-1].color;for(var o=[],l=0,c=a[M];l<c;l++)a[l].offset&&o[I](a[l].offset+k+a[l].color);r.colors&&(r.colors.value=o[M]?o[B]():"0% "+r.color),"radial"==i?(r.type="gradientradial",r.focus="100%",r.focussize=n,r.focusposition=n):(r.type="gradient",r.angle=(270-s)%360)}return 1},It=function(e,r,i){this[0]=e,this.id=t._oid++,this.node=e,e.raphael=this,this.X=0,this.Y=0,this.attrs={},this.Group=r,this.paper=i,this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1},!i.bottom&&(i.bottom=this),this.prev=i.top,i.top&&(i.top.next=this),i.top=this,this.next=null},Vt=It[u],Vt.rotate=function(t,e,r){return this.removed?this:null==t?this._.rt.cx?[this._.rt.deg,this._.rt.cx,this._.rt.cy][B](k):this._.rt.deg:(t=_(t)[T](l),t[M]-1&&(e=U(t[1]),r=U(t[2])),t=U(t[0]),null!=e?this._.rt.deg=t:this._.rt.deg+=t,null==r&&(e=null),this._.rt.cx=e,this._.rt.cy=r,this.setBox(this.attrs,e,r),this.Group.style.rotation=this._.rt.deg,this)},Vt.setBox=function(t,e,r){if(this.removed)return this;var i=this.Group.style,n=this.shape&&this.shape.style||this.node.style;t=t||{};for(var s in t)t[f](s)&&(this.attrs[s]=t[s]);e=e||this._.rt.cx,r=r||this._.rt.cy;var a,o,l,c,h=this.attrs;switch(this.type){case"circle":a=h.cx-h.r,o=h.cy-h.r,l=c=2*h.r;break;case"ellipse":a=h.cx-h.rx,o=h.cy-h.ry,l=2*h.rx,c=2*h.ry;break;case"image":a=+h.x,o=+h.y,l=h.width||0,c=h.height||0;break;case"text":this.textpath.v=["m",Y(h.x),", ",Y(h.y-2),"l",Y(h.x)+1,", ",Y(h.y-2)][B](w),a=h.x-Y(this.W/2),o=h.y-this.H/2,l=this.W,c=this.H;break;case"rect":case"path":if(this.attrs.path){var u=gt(this.attrs.path);a=u.x,o=u.y,l=u.width,c=u.height}else a=0,o=0,l=this.paper.width,c=this.paper.height;break;default:a=0,o=0,l=this.paper.width,c=this.paper.height}e=null==e?a+l/2:e,r=null==r?o+c/2:r;var p,d=e-this.paper.width/2,v=r-this.paper.height/2;i.left!=(p=d+"px")&&(i.left=p),i.top!=(p=v+"px")&&(i.top=p),this.X=ie[f](this.type)?-d:a,this.Y=ie[f](this.type)?-v:o,this.W=l,this.H=c,ie[f](this.type)?(n.left!=(p=-d*re+"px")&&(n.left=p),n.top!=(p=-v*re+"px")&&(n.top=p)):"text"==this.type?(n.left!=(p=-d+"px")&&(n.left=p),n.top!=(p=-v+"px")&&(n.top=p)):(i.width!=(p=this.paper.width+"px")&&(i.width=p),i.height!=(p=this.paper.height+"px")&&(i.height=p),n.left!=(p=a-d+"px")&&(n.left=p),n.top!=(p=o-v+"px")&&(n.top=p),n.width!=(p=l+"px")&&(n.width=p),n.height!=(p=c+"px")&&(n.height=p))},Vt.hide=function(){return!this.removed&&(this.Group.style.display="none"),this},Vt.show=function(){return!this.removed&&(this.Group.style.display="block"),this},Vt.getBBox=function(){return this.removed?this:ie[f](this.type)?gt(this.attrs.path):{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}},Vt.remove=function(){if(!this.removed){Nt(this,this.paper),this.node.parentNode.removeChild(this.node),this.Group.parentNode.removeChild(this.Group),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)delete this[t];this.removed=!0}},Vt.attr=function(e,r){if(this.removed)return this;if(null==e){var i={};for(var n in this.attrs)this.attrs[f](n)&&(i[n]=this.attrs[n]);return this._.rt.deg&&(i.rotation=this.rotate()),(1!=this._.sx||1!=this._.sy)&&(i.scale=this.scale()),i.gradient&&"none"==i.fill&&(i.fill=i.gradient)&&delete i.gradient,i}if(null==r&&t.is(e,"string"))return"translation"==e?Se.call(this):"rotation"==e?this.rotate():"scale"==e?this.scale():e==W&&"none"==this.attrs.fill&&this.attrs.gradient?this.attrs.gradient:this.attrs[e];if(this.attrs&&null==r&&t.is(e,z)){var s,a={};for(n=0,s=e[M];n<s;n++)a[e[n]]=this.attr(e[n]);return a}var o;if(null!=r&&(o={},o[e]=r),null==r&&t.is(e,"object")&&(o=e),o){for(var l in this.paper.customAttributes)if(this.paper.customAttributes[f](l)&&o[f](l)&&t.is(this.paper.customAttributes[l],"function")){var c=this.paper.customAttributes[l].apply(this,[][x](o[l]));this.attrs[l]=o[l];for(var h in c)c[f](h)&&(o[h]=c[h])}o.text&&"text"==this.type&&(this.node.string=o.text),Pt(this,o),o.gradient&&({circle:1,ellipse:1}[f](this.type)||"r"!=_(o.gradient).charAt())&&qt(this,o.gradient),(!ie[f](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this},Vt.toFront=function(){return!this.removed&&this.Group.parentNode[y](this.Group),this.paper.top!=this&&At(this,this.paper),this},Vt.toBack=function(){return this.removed?this:(this.Group.parentNode.firstChild!=this.Group&&(this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild),Et(this,this.paper)),this)},Vt.insertAfter=function(t){return this.removed?this:(t.constructor==Be&&(t=t[t.length-1]),t.Group.nextSibling?t.Group.parentNode.insertBefore(this.Group,t.Group.nextSibling):t.Group.parentNode[y](this.Group),$t(this,t,this.paper),this)},Vt.insertBefore=function(t){return this.removed?this:(t.constructor==Be&&(t=t[0]),t.Group.parentNode.insertBefore(this.Group,t.Group),Rt(this,t,this.paper),this)},Vt.blur=function(e){var r=this.node.runtimeStyle,i=r.filter;i=i.replace(Kt,w),0!==+e?(this.attrs.blur=e,r.filter=i+k+Q+".Blur(pixelradius="+(+e||1.5)+")",r.margin=t.format("-{0}px 0 0 -{0}px",Y(+e||1.5))):(r.filter=i,r.margin=0,delete this.attrs.blur)},Dt=function(t,e,r,i){var n=se("group"),s=se("oval");s.style;n.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",n.coordsize=ee,n.coordorigin=t.coordorigin,n[y](s);var a=new It(s,n,t);return a.type="circle",Pt(a,{stroke:"#000",fill:"none"}),a.attrs.cx=e,a.attrs.cy=r,a.attrs.r=i,a.setBox({x:e-i,y:r-i,width:2*i,height:2*i}),t.canvas[y](n),a},Ot=function(t,e,r,n,s,a){var o=i(e,r,n,s,a),l=t.path(o),c=l.attrs;return l.X=c.x=e,l.Y=c.y=r,l.W=c.width=n,l.H=c.height=s,c.r=a,c.path=o,l.type="rect",l},Ft=function(t,e,r,i,n){var s=se("group"),a=se("oval");a.style;s.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",s.coordsize=ee,s.coordorigin=t.coordorigin,s[y](a);var o=new It(a,s,t);return o.type="ellipse",Pt(o,{stroke:"#000"}),o.attrs.cx=e,o.attrs.cy=r,o.attrs.rx=i,o.attrs.ry=n,o.setBox({x:e-i,y:r-n,width:2*i,height:2*n}),t.canvas[y](s),o},Yt=function(t,e,r,i,n,s){var a=se("group"),o=se("image");a.style.cssText="position:absolute;left:0;top:0;width:"+t.width+"px;height:"+t.height+"px",a.coordsize=ee,a.coordorigin=t.coordorigin,o.src=e,a[y](o);var l=new It(o,a,t);return l.type="image",l.attrs.src=e,l.attrs.x=r,l.attrs.y=i,l.attrs.w=n,l.attrs.h=s,l.setBox({x:r,y:i,width:n,height:s}),t.canvas[y](a),l},Xt=function(e,r,i,n){var s=se("group"),a=se("shape"),o=a.style,l=se("path"),c=(l.style,se("textpath"));s.style.cssText="position:absolute;left:0;top:0;width:"+e.width+"px;height:"+e.height+"px",s.coordsize=ee,s.coordorigin=e.coordorigin,l.v=t.format("m{0},{1}l{2},{1}",Y(10*r),Y(10*i),Y(10*r)+1),l.textpathok=!0,o.width=e.width,o.height=e.height,c.string=_(n),c.on=!0,a[y](c),a[y](l),s[y](a);var h=new It(c,s,e);return h.shape=a,h.textpath=l,h.type="text",h.attrs.text=n,h.attrs.x=r,h.attrs.y=i,h.attrs.w=1,h.attrs.h=1,Pt(h,{font:K.font,stroke:"none",fill:"#000"}),h.setBox(),e.canvas[y](s),h},Ut=function(t,e){var r=this.canvas.style;return t==+t&&(t+="px"),e==+e&&(e+="px"),r.width=t,r.height=e,r.clip="rect(0 "+t+" "+e+" 0)",this};var se;p.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!p.namespaces.rvml&&p.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),se=function(t){return p.createElement("<rvml:"+t+' class="rvml">')}}catch(t){se=function(t){return p.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Jt=function(){var e=Bt[m](0,arguments),r=e.container,i=e.height,n=e.width,s=e.x,a=e.y;if(!r)throw new Error("VML container not found.");var o=new g,l=o.canvas=p.createElement("div"),c=l.style;return s=s||0,a=a||0,n=n||512,i=i||342,n==+n&&(n+="px"),i==+i&&(i+="px"),o.width=1e3,o.height=1e3,o.coordsize=1e3*re+k+1e3*re,o.coordorigin="0 0",o.span=p.createElement("span"),o.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",l[y](o.span),c.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",n,i),1==r?(p.body[y](l),c.left=s+"px",c.top=a+"px",c.position="absolute"):r.firstChild?r.insertBefore(l,r.firstChild):r[y](l),Mt.call(o,o,t.fn),o},o.clear=function(){this.canvas.innerHTML=w,this.span=p.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas[y](this.span),this.bottom=this.top=null},o.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=Lt(t);return!0}}var ae=navigator.userAgent.match(/Version\\x2f(.*?)\s/);"Apple Computer, Inc."==navigator.vendor&&(ae&&ae[1]<4||"iP"==navigator.platform.slice(0,2))?o.safari=function(){var t=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});d.setTimeout(function(){t.remove()})}:o.safari=function(){};for(var oe=function(){this.returnValue=!1},le=function(){return this.originalEvent.preventDefault()},ce=function(){this.cancelBubble=!0},he=function(){return this.originalEvent.stopPropagation()},ue=function(){return p.addEventListener?function(t,e,r,i){var n=b&&S[e]?S[e]:e,s=function(n){if(b&&S[f](e))for(var s=0,a=n.targetTouches&&n.targetTouches.length;s<a;s++)if(n.targetTouches[s].target==t){var o=n;n=n.targetTouches[s],n.originalEvent=o,n.preventDefault=le,n.stopPropagation=he;break}return r.call(i,n)};return t.addEventListener(n,s,!1),function(){return t.removeEventListener(n,s,!1),!0}}:p.attachEvent?function(t,e,r,i){var n=function(t){return t=t||d.event,t.preventDefault=t.preventDefault||oe,t.stopPropagation=t.stopPropagation||ce,r.call(i,t)};t.attachEvent("on"+e,n);var s=function(){return t.detachEvent("on"+e,n),!0};return s}:void 0}(),fe=[],pe=function(t){for(var e,r=t.clientX,i=t.clientY,n=p.documentElement.scrollTop||p.body.scrollTop,s=p.documentElement.scrollLeft||p.body.scrollLeft,a=fe.length;a--;){if(e=fe[a],b){for(var o,l=t.touches.length;l--;)if(o=t.touches[l],o.identifier==e.el._drag.id){r=o.clientX,i=o.clientY,(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();r+=s,i+=n,e.move&&e.move.call(e.move_scope||e.el,r-e.el._drag.x,i-e.el._drag.y,r,i,t)}},de=function(e){t.unmousemove(pe).unmouseup(de);for(var r,i=fe.length;i--;)r=fe[i],r.el._drag={},r.end&&r.end.call(r.end_scope||r.start_scope||r.move_scope||r.el,e);fe=[]},ve=C[M];ve--;)(function(e){t[e]=It[u][e]=function(r,i){return t.is(r,"function")&&(this.events=this.events||[],this.events.push({name:e,f:r,unbind:ue(this.shape||this.node||p,e,r,i||this)})),this},t["un"+e]=It[u]["un"+e]=function(t){for(var r=this.events,i=r[M];i--;)if(r[i].name==e&&r[i].f==t)return r[i].unbind(),r.splice(i,1),!r.length&&delete this.events,this;return this}})(C[ve]);Vt.hover=function(t,e,r,i){return this.mouseover(t,r).mouseout(e,i||r)},Vt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)},Vt.drag=function(e,r,i,n,s,a){return this._drag={},this.mousedown(function(o){(o.originalEvent||o).preventDefault();var l=p.documentElement.scrollTop||p.body.scrollTop,c=p.documentElement.scrollLeft||p.body.scrollLeft;this._drag.x=o.clientX+c,this._drag.y=o.clientY+l,this._drag.id=o.identifier,r&&r.call(s||n||this,o.clientX+c,o.clientY+l,o),!fe.length&&t.mousemove(pe).mouseup(de),fe.push({el:this,move:e,end:i,move_scope:n,start_scope:s,end_scope:a})}),this},Vt.undrag=function(e,r,i){for(var n=fe.length;n--;)fe[n].el==this&&fe[n].move==e&&fe[n].end==i&&fe.splice(n++,1);!fe.length&&t.unmousemove(pe).unmouseup(de)},o.circle=function(t,e,r){return Dt(this,t||0,e||0,r||0)},o.rect=function(t,e,r,i,n){return Ot(this,t||0,e||0,r||0,i||0,n||0)},o.ellipse=function(t,e,r,i){return Ft(this,t||0,e||0,r||0,i||0)},o.path=function(e){return e&&!t.is(e,q)&&!t.is(e[0],z)&&(e+=w),Gt(t.format[m](t,arguments),this)},o.image=function(t,e,r,i,n){return Yt(this,t||"about:blank",e||0,r||0,i||0,n||0)},o.text=function(t,e,r){return Xt(this,t||0,e||0,_(r))},o.set=function(t){return arguments[M]>1&&(t=Array[u].splice.call(arguments,0,arguments[M])),new Be(t)},o.setSize=Ut,o.top=o.bottom=null,o.raphael=t,Vt.resetScale=function(){return this.removed?this:(this._.sx=1,this._.sy=1,void(this.attrs.scale="1 1"))},Vt.scale=function(t,e,r,i){if(this.removed)return this;if(null==t&&null==e)return{x:this._.sx,y:this._.sy,toString:n};e=e||t,!+e&&(e=t);var s,a,o=this.attrs;if(0!=t){var l=this.getBBox(),c=l.x+l.width/2,h=l.y+l.height/2,u=R(t/this._.sx),f=R(e/this._.sy);r=+r||0==r?r:c,i=+i||0==i?i:h;var p=this._.sx>0,d=this._.sy>0,v=~~(t/R(t)),g=~~(e/R(e)),y=u*v,m=f*g,b=this.node.style,_=r+R(c-r)*y*(c>r==p?1:-1),T=i+R(h-i)*m*(h>i==d?1:-1),C=t*v>e*g?f:u;switch(this.type){case"rect":case"image":var S=o.width*u,N=o.height*f;this.attr({height:N,r:o.r*C,width:S,x:_-S/2,y:T-N/2});break;case"circle":case"ellipse":this.attr({rx:o.rx*u,ry:o.ry*f,r:o.r*C,cx:_,cy:T});break;case"text":this.attr({x:_,y:T});break;case"path":for(var A=mt(o.path),E=!0,$=p?y:u,L=d?m:f,j=0,G=A[M];j<G;j++){var q=A[j],z=Z.call(q[0]);if("M"!=z||!E)if(E=!1,"A"==z)q[A[j][M]-2]*=$,q[A[j][M]-1]*=L,q[1]*=u,q[2]*=f,q[5]=+(v+g?!!+q[5]:!+q[5]);else if("H"==z)for(var P=1,W=q[M];P<W;P++)q[P]*=$;else if("V"==z)for(P=1,W=q[M];P<W;P++)q[P]*=L;else for(P=1,W=q[M];P<W;P++)q[P]*=P%2?$:L}var H=gt(A);s=_-H.x-H.width/2,a=T-H.y-H.height/2,A[0][1]+=s,A[0][2]+=a,this.attr({path:A})}this.type in{text:1,image:1}&&(1!=v||1!=g)?this.transformations?(this.transformations[2]="scale("[x](v,",",g,")"),this.node[X]("transform",this.transformations[B](k)),s=v==-1?-o.x-(S||0):o.x,a=g==-1?-o.y-(N||0):o.y,this.attr({x:s,y:a}),o.fx=v-1,o.fy=g-1):(this.node.filterMatrix=Q+".Matrix(M11="[x](v,", M12=0, M21=0, M22=",g,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')"),b.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)):this.transformations?(this.transformations[2]=w,this.node[X]("transform",this.transformations[B](k)),o.fx=0,o.fy=0):(this.node.filterMatrix=w,b.filter=(this.node.filterMatrix||w)+(this.node.filterOpacity||w)),o.scale=[t,e,r,i][B](k),this._.sx=t,this._.sy=e}return this},Vt.clone=function(){if(this.removed)return null;var t=this.attr();return delete t.scale,delete t.translation,this.paper[this.type]().attr(t)};var ge={},ye=function(e,r,i,n,s,a,o,l,c){var h,u,f=0,p=100,d=[e,r,i,n,s,a,o,l].join(),v=ge[d];if(!v&&(ge[d]=v={data:[]}),v.timer&&clearTimeout(v.timer),v.timer=setTimeout(function(){delete ge[d]},2e3),null!=c){var g=ye(e,r,i,n,s,a,o,l);p=10*~~g}for(var y=0;y<p+1;y++){if(v.data[c]>y?u=v.data[y*p]:(u=t.findDotsAtSegment(e,r,i,n,s,a,o,l,y/p),v.data[y]=u),y&&(f+=L(L(h.x-u.x,2)+L(h.y-u.y,2),.5)),null!=c&&f>=c)return u;h=u}if(null==c)return f},me=function(e,r){return function(i,n,s){i=Ct(i);for(var a,o,l,c,h,u="",f={},p=0,d=0,v=i.length;d<v;d++){if(l=i[d],"M"==l[0])a=+l[1],o=+l[2];else{if(c=ye(a,o,l[1],l[2],l[3],l[4],l[5],l[6]),p+c>n){if(r&&!f.start){if(h=ye(a,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),u+=["C",h.start.x,h.start.y,h.m.x,h.m.y,h.x,h.y],s)return u;f.start=u,u=["M",h.x,h.y+"C",h.n.x,h.n.y,h.end.x,h.end.y,l[5],l[6]][B](),p+=c,a=+l[5],o=+l[6];continue}if(!e&&!r)return h=ye(a,o,l[1],l[2],l[3],l[4],l[5],l[6],n-p),{x:h.x,y:h.y,alpha:h.alpha}}p+=c,a=+l[5],o=+l[6]}u+=l}return f.end=u,h=e?p:r?f:t.findDotsAtSegment(a,o,l[1],l[2],l[3],l[4],l[5],l[6],1),h.alpha&&(h={x:h.x,y:h.y,alpha:h.alpha}),h}},xe=me(1),be=me(),we=me(0,1);Vt.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():xe(this.attrs.path)},Vt.getPointAtLength=function(t){if("path"==this.type)return be(this.attrs.path,t)},Vt.getSubpath=function(t,e){if("path"==this.type){if(R(this.getTotalLength()-e)<"1e-6")return we(this.attrs.path,t).end;var r=we(this.attrs.path,e,1);return t?we(r,t).end:r}},t.easing_formulas={linear:function(t){return t},"<":function(t){return L(t,3)},">":function(t){return L(t-1,3)+1},"<>":function(t){return t*=2,t<1?L(t,3)/2:(t-=2,(L(t,3)+2)/2)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){t-=1;var e=1.70158;return t*t*((e+1)*t+e)+1},elastic:function(t){if(0==t||1==t)return t;var e=.3,r=e/4;return L(2,-10*t)*A.sin((t-r)*(2*j)/e)+1},bounce:function(t){var e,r=7.5625,i=2.75;return t<1/i?e=r*t*t:t<2/i?(t-=1.5/i,e=r*t*t+.75):t<2.5/i?(t-=2.25/i,e=r*t*t+.9375):(t-=2.625/i,e=r*t*t+.984375),e}};var ke=[],_e=function(){for(var e=+new Date,r=0;r<ke[M];r++){var i=ke[r];if(!i.stop&&!i.el.removed){var n,s=e-i.start,a=i.ms,o=i.easing,l=i.from,c=i.diff,h=i.to,u=i.t,p=i.el,d={};if(s<a){var v=o(s/a);for(var g in l)if(l[f](g)){switch(tt[g]){case"along":n=v*a*c[g],h.back&&(n=h.len-n);var y=be(h[g],n);p.translate(c.sx-c.x||0,c.sy-c.y||0),c.x=y.x,c.y=y.y,p.translate(y.x-c.sx,y.y-c.sy),h.rot&&p.rotate(c.r+y.alpha,y.x,y.y);break;case G:n=+l[g]+v*a*c[g];break;case"colour":n="rgb("+[Ce(Y(l[g].r+v*a*c[g].r)),Ce(Y(l[g].g+v*a*c[g].g)),Ce(Y(l[g].b+v*a*c[g].b))][B](",")+")";break;case"path":n=[];for(var m=0,x=l[g][M];m<x;m++){n[m]=[l[g][m][0]];for(var b=1,_=l[g][m][M];b<_;b++)n[m][b]=+l[g][m][b]+v*a*c[g][m][b];n[m]=n[m][B](k)}n=n[B](k);break;case"csv":switch(g){case"translation":var T=v*a*c[g][0]-u.x,C=v*a*c[g][1]-u.y;u.x+=T,u.y+=C,n=T+k+C;break;case"rotation":n=+l[g][0]+v*a*c[g][0],l[g][1]&&(n+=","+l[g][1]+","+l[g][2]);break;case"scale":n=[+l[g][0]+v*a*c[g][0],+l[g][1]+v*a*c[g][1],2 in h[g]?h[g][2]:w,3 in h[g]?h[g][3]:w][B](k);break;case"clip-rect":for(n=[],m=4;m--;)n[m]=+l[g][m]+v*a*c[g][m]}break;default:var S=[].concat(l[g]);for(n=[],m=p.paper.customAttributes[g].length;m--;)n[m]=+S[m]+v*a*c[g][m]}d[g]=n}p.attr(d),p._run&&p._run.call(p)}else h.along&&(y=be(h.along,h.len*!h.back),p.translate(c.sx-(c.x||0)+y.x-c.sx,c.sy-(c.y||0)+y.y-c.sy),h.rot&&p.rotate(c.r+y.alpha,y.x,y.y)),(u.x||u.y)&&p.translate(-u.x,-u.y),h.scale&&(h.scale+=w),p.attr(h),ke.splice(r--,1)}}t.svg&&p&&p.paper&&p.paper.safari(),ke[M]&&setTimeout(_e)},Te=function(e,r,i,n,s){var a=i-n;r.timeouts.push(setTimeout(function(){t.is(s,"function")&&s.call(r),r.animate(e,a,e.easing)},n))},Ce=function(t){return E($(t,255),0)},Se=function(t,e){if(null==t)return{x:this._.tx,y:this._.ty,toString:n};switch(this._.tx+=+t,this._.ty+=+e,this.type){case"circle":case"ellipse":this.attr({cx:+t+this.attrs.cx,cy:+e+this.attrs.cy});break;
case"rect":case"image":case"text":this.attr({x:+t+this.attrs.x,y:+e+this.attrs.y});break;case"path":var r=mt(this.attrs.path);r[0][1]+=+t,r[0][2]+=+e,this.attr({path:r})}return this};Vt.animateWith=function(t,e,r,i,n){for(var s=0,a=ke.length;s<a;s++)ke[s].el.id==t.id&&(e.start=ke[s].start);return this.animate(e,r,i,n)},Vt.animateAlong=s(),Vt.animateAlongBack=s(1),Vt.onAnimation=function(t){return this._run=t||0,this},Vt.animate=function(e,r,i,n){var s=this;if(s.timeouts=s.timeouts||[],!t.is(i,"function")&&i||(n=i||null),s.removed)return n&&n.call(s),s;var o={},c={},h=!1,u={};for(var p in e)if(e[f](p)&&(tt[f](p)||s.paper.customAttributes[f](p)))switch(h=!0,o[p]=s.attr(p),null==o[p]&&(o[p]=K[p]),c[p]=e[p],tt[p]){case"along":var d=xe(e[p]),v=be(e[p],d*!!e.back),g=s.getBBox();u[p]=d/r,u.tx=g.x,u.ty=g.y,u.sx=v.x,u.sy=v.y,c.rot=e.rot,c.back=e.back,c.len=d,e.rot&&(u.r=U(s.rotate())||0);break;case G:u[p]=(c[p]-o[p])/r;break;case"colour":o[p]=t.getRGB(o[p]);var y=t.getRGB(c[p]);u[p]={r:(y.r-o[p].r)/r,g:(y.g-o[p].g)/r,b:(y.b-o[p].b)/r};break;case"path":var m=Ct(o[p],c[p]);o[p]=m[0];var x=m[1];u[p]=[];for(var b=0,w=o[p][M];b<w;b++){u[p][b]=[0];for(var k=1,C=o[p][b][M];k<C;k++)u[p][b][k]=(x[b][k]-o[p][b][k])/r}break;case"csv":var S=_(e[p])[T](l),B=_(o[p])[T](l);switch(p){case"translation":o[p]=[0,0],u[p]=[S[0]/r,S[1]/r];break;case"rotation":o[p]=B[1]==S[1]&&B[2]==S[2]?B:[0,S[1],S[2]],u[p]=[(S[0]-o[p][0])/r,0,0];break;case"scale":e[p]=S,o[p]=_(o[p])[T](l),u[p]=[(S[0]-o[p][0])/r,(S[1]-o[p][1])/r,0,0];break;case"clip-rect":for(o[p]=_(o[p])[T](l),u[p]=[],b=4;b--;)u[p][b]=(S[b]-o[p][b])/r}c[p]=S;break;default:for(S=[].concat(e[p]),B=[].concat(o[p]),u[p]=[],b=s.paper.customAttributes[p][M];b--;)u[p][b]=((S[b]||0)-(B[b]||0))/r}if(h){var N=t.easing_formulas[i];if(!N)if(N=_(i).match(F),N&&5==N[M]){var A=N;N=function(t){return a(t,+A[1],+A[2],+A[3],+A[4],r)}}else N=function(t){return t};ke.push({start:e.start||+new Date,ms:r,easing:N,from:o,diff:u,to:c,el:s,t:{x:0,y:0}}),t.is(n,"function")&&(s._ac=setTimeout(function(){n.call(s)},r)),1==ke[M]&&setTimeout(_e)}else{var E,$=[];for(var R in e)e[f](R)&&rt.test(R)&&(p={value:e[R]},"from"==R&&(R=0),"to"==R&&(R=100),p.key=J(R,10),$.push(p));for($.sort(ct),$[0].key&&$.unshift({key:0,value:s.attrs}),b=0,w=$[M];b<w;b++)Te($[b].value,s,r/100*$[b].key,r/100*($[b-1]&&$[b-1].key||0),$[b-1]&&$[b-1].value.callback);E=$[$[M]-1].value.callback,E&&s.timeouts.push(setTimeout(function(){E.call(s)},r))}return this},Vt.stop=function(){for(var t=0;t<ke.length;t++)ke[t].el.id==this.id&&ke.splice(t--,1);for(t=0,ii=this.timeouts&&this.timeouts.length;t<ii;t++)clearTimeout(this.timeouts[t]);return this.timeouts=[],clearTimeout(this._ac),delete this._ac,this},Vt.translate=function(t,e){return this.attr({translation:t+" "+e})},Vt[P]=function(){return"Raphaël’s object"},t.ae=ke;var Be=function(t){if(this.items=[],this[M]=0,this.type="set",t)for(var e=0,r=t[M];e<r;e++)!t[e]||t[e].constructor!=It&&t[e].constructor!=Be||(this[this.items[M]]=this.items[this.items[M]]=t[e],this[M]++)};Be[u][I]=function(){for(var t,e,r=0,i=arguments[M];r<i;r++)t=arguments[r],!t||t.constructor!=It&&t.constructor!=Be||(e=this.items[M],this[e]=this.items[e]=t,this[M]++);return this},Be[u].pop=function(){return delete this[this[M]--],this.items.pop()};for(var Me in Vt)Vt[f](Me)&&(Be[u][Me]=function(t){return function(){for(var e=0,r=this.items[M];e<r;e++)this.items[e][t][m](this.items[e],arguments);return this}}(Me));Be[u].attr=function(e,r){if(e&&t.is(e,z)&&t.is(e[0],"object"))for(var i=0,n=e[M];i<n;i++)this.items[i].attr(e[i]);else for(var s=0,a=this.items[M];s<a;s++)this.items[s].attr(e,r);return this},Be[u].animate=function(e,r,i,n){(t.is(i,"function")||!i)&&(n=i||null);var s,a,o=this.items[M],l=o,c=this;for(n&&(a=function(){!--o&&n.call(c)}),i=t.is(i,q)?i:a,s=this.items[--l].animate(e,r,i,a);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(s,e,r,i,a);return this},Be[u].insertAfter=function(t){for(var e=this.items[M];e--;)this.items[e].insertAfter(t);return this},Be[u].getBBox=function(){for(var t=[],e=[],r=[],i=[],n=this.items[M];n--;){var s=this.items[n].getBBox();t[I](s.x),e[I](s.y),r[I](s.x+s.width),i[I](s.y+s.height)}return t=$[m](0,t),e=$[m](0,e),{x:t,y:e,width:E[m](0,r)-t,height:E[m](0,i)-e}},Be[u].clone=function(t){t=new Be;for(var e=0,r=this.items[M];e<r;e++)t[I](this.items[e].clone());return t},t.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},r=t.face["font-family"];for(var i in t.face)t.face[f](i)&&(e.face[i]=t.face[i]);if(this.fonts[r]?this.fonts[r][I](e):this.fonts[r]=[e],!t.svg){e.face["units-per-em"]=J(t.face["units-per-em"],10);for(var n in t.glyphs)if(t.glyphs[f](n)){var s=t.glyphs[n];if(e.glyphs[n]={w:s.w,k:{},d:s.d&&"M"+s.d[et](/[mlcxtrv]/g,function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"})+"z"},s.k)for(var a in s.k)s[f](a)&&(e.glyphs[n].k[a]=s.k[a])}}return t},o.getFont=function(e,r,i,n){if(n=n||"normal",i=i||"normal",r=+r||{normal:400,bold:700,lighter:300,bolder:800}[r]||400,t.fonts){var s=t.fonts[e];if(!s){var a=new RegExp("(^|\\s)"+e[et](/[^\w\d\s+!~.:_-]/g,w)+"(\\s|$)","i");for(var o in t.fonts)if(t.fonts[f](o)&&a.test(o)){s=t.fonts[o];break}}var l;if(s)for(var c=0,h=s[M];c<h&&(l=s[c],l.face["font-weight"]!=r||l.face["font-style"]!=i&&l.face["font-style"]||l.face["font-stretch"]!=n);c++);return l}},o.print=function(e,r,i,n,s,a,o){a=a||"middle",o=E($(o||0,1),-1);var c,h=this.set(),u=_(i)[T](w),f=0;if(t.is(n,i)&&(n=this.getFont(n)),n){c=(s||16)/n.face["units-per-em"];for(var p=n.face.bbox.split(l),d=+p[0],v=+p[1]+("baseline"==a?p[3]-p[1]+ +n.face.descent:(p[3]-p[1])/2),g=0,y=u[M];g<y;g++){var m=g&&n.glyphs[u[g-1]]||{},x=n.glyphs[u[g]];f+=g?(m.w||n.w)+(m.k&&m.k[u[g]]||0)+n.w*o:0,x&&x.d&&h[I](this.path(x.d).attr({fill:"#000",stroke:"none",translation:[f,0]}))}h.scale(c,c,d,v).translate(e-d,r-v)}return h},t.format=function(e,r){var i=t.is(r,z)?[0][x](r):arguments;return e&&t.is(e,q)&&i[M]-1&&(e=e[et](h,function(t,e){return null==i[++e]?w:i[e]})),e||w},t.ninja=function(){return v.was?d.Raphael=v.is:delete Raphael,t},t.el=Vt,t.st=Be[u],v.was?d.Raphael=t:Raphael=t}()}});